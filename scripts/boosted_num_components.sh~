cd ~/Local/research/ensemble_normalizing_flows/ensemble-normalizing-flows
epochs=150
early_stop=0
regularization=0.1
flow_length=2
batch_size=16
seed=123
num_workers=1

# 1 component
python main_experiment.py -d mnist \
       --validation \
       --experiment_name num_components
       --no_cuda \
       --num_workers ${num_workers} \
       --epochs ${epochs} \
       --early_stopping_epochs ${early_stop} \
       --warmup 100 \
       --burnin 0 \
       --flow boosted \
       --regularization_rate ${regularization} \
       --num_flows ${flow_length} \
       --learner_type planar \
       --num_learners 1 \
       --batch_size ${batch_size} \
       --manual_seed ${seed} \
       --log_interval 0 \
       --plot_interval 3 ;


# 2 component
python main_experiment.py -d mnist \
       --validation \
       --no_cuda \
       --num_workers ${num_workers} \
       --epochs ${epochs} \
       --early_stopping_epochs ${early_stop} \
       --warmup 50 \
       --burnin 50 \
       --flow boosted \
       --regularization_rate ${regularization} \
       --num_flows ${flow_length} \
       --learner_type planar \
       --num_learners 2 \
       --batch_size ${batch_size} \
       --manual_seed ${seed} \
       --log_interval 0 \
       --plot_interval 3 ;


# 3 component
python main_experiment.py -d mnist \
       --validation \
       --no_cuda \
       --num_workers ${num_workers} \
       --epochs ${epochs} \
       --early_stopping_epochs ${early_stop} \
       --warmup 5 0\
       --burnin 50 \
       --flow boosted \
       --regularization_rate ${regularization} \
       --num_flows ${flow_length} \
       --learner_type planar \
       --num_learners 3 \
       --batch_size ${batch_size} \
       --manual_seed ${seed} \
       --log_interval 0 \
       --plot_interval 3 ;


# 4 component
python main_experiment.py -d mnist \
       --validation \
       --no_cuda \
       --num_workers ${num_workers} \
       --epochs ${epochs} \
       --early_stopping_epochs ${early_stop} \
       --warmup 50 \
       --burnin 50 \
       --flow boosted \
       --regularization_rate ${regularization} \
       --num_flows ${flow_length} \
       --learner_type planar \
       --num_learners 4 \
       --batch_size ${batch_size} \
       --manual_seed ${seed} \
       --log_interval 0 \
       --plot_interval 3 ;

# 5 component
python main_experiment.py -d mnist \
       --validation \
       --no_cuda \
       --num_workers ${num_workers} \
       --epochs ${epochs} \
       --early_stopping_epochs ${early_stop} \
       --warmup 50 \
       --burnin 50 \
       --flow boosted \
       --regularization_rate ${regularization} \
       --num_flows ${flow_length} \
       --learner_type planar \
       --num_learners 5 \
       --batch_size ${batch_size} \
       --manual_seed ${seed} \
       --log_interval 0 \
       --plot_interval 3 ;


# 6 component
python main_experiment.py -d mnist \
       --validation \
       --no_cuda \
       --num_workers ${num_workers} \
       --epochs ${epochs} \
       --early_stopping_epochs ${early_stop} \
       --warmup 50 \
       --burnin 50 \
       --flow boosted \
       --regularization_rate ${regularization} \
       --num_flows ${flow_length} \
       --learner_type planar \
       --num_learners 6 \
       --batch_size ${batch_size} \
       --manual_seed ${seed} \
       --log_interval 0 \
       --plot_interval 3 ;
